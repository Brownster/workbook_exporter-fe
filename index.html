<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Exporter Converter</title>
  <style>
    /* Your existing CSS styles */
  </style>
  <style>
    .flashes {
      position: fixed;
      top: 1em;
      right: 1em;
      z-index: 1000;
    }
  
    .flash {
      background-color: #d4edda;
      border-color: #c3e6cb;
      color: #155724;
      padding: 10px;
      margin-bottom: 5px;
      border-radius: 3px;
      display: inline-block;
    }
  </style>
  
  <script>
    function fadeOutFlash(element, delay) {
      setTimeout(function () {
        element.style.opacity = "0";
        setTimeout(function () {
          element.parentNode.removeChild(element);
        }, 1000);
      }, delay);
    }
  
    window.addEventListener("DOMContentLoaded", function () {
      let flashMessages = document.querySelectorAll(".flash");
      flashMessages.forEach(function (flash, index) {
        fadeOutFlash(flash, (index + 1) * 5000);
      });
    });
  </script>
  
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Exporter Converter</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
  </head>
  
  <body>
    <div class="container">
      <h1 class="text-center mt-5">Exporter Converter</h1>
      <form method="POST" enctype="multipart/form-data" action="/" class="mt-5">
        <div class="form-group">
          <label for="file">Select CSV file to upload:</label>
          <input type="file" name="file" id="file" accept=".csv" class="form-control-file">
        </div>
        <div class="form-group">
            <select name="exporters" multiple>
                <option value="exporter_linux">Linux</option>
                <option value="exporter_blackbox">Blackbox</option>
          </select>
        </div>
        <div class="form-group">
          <label for="listen_port">Default Listen Port:</label>
          <input type="number" name="default_listen_port" id="default_listen_port" min="3000" max="8000" value="6000" class="form-control">
        </div>
        <div class="form-group">
          <label for="existing_yaml">Existing Yaml:</label>
          <input type="file" name="existing_yaml" id="existing_yaml" accept=".yaml" class="form-control-file">
        </div>
        <button type="submit" class="btn btn-primary">Convert</button>
      </form>
      {% if result_file %}
        <div class="result mt-5">
          <h2>Download your converted YAML file:</h2>
          <a href="{{ url_for('download', file_name=result_file) }}" class="btn btn-success">Download {{ result_file }}</a>
        </div>
      {% endif %}
      {% with messages = get_flashed_messages(with_categories=true) %}
{% if messages %}
  <ul class=flashes>
  {% for category, message in messages %}
    <li class="{{ category }}">{{ message }}</li>
  {% endfor %}
  </ul>
{% endif %}
{% endwith %}
{% with messages = get_flashed_messages() %}
  {% if messages %}
    <div class="flashes">
    {% for message in messages %}
      <div class="flash">{{ message }}</div>
    {% endfor %}
    </div>
  {% endif %}
{% endwith %}
    </ul>
  {% endif %}
{% endwith %}
  </body>  
</html>
          <a href="{{ url_for('download', file_name=result_file) }}" class="btn btn-success">Download {{ result_file }}</a>
        </div>
      {% endif %}
    </div>
  </body>  
</html>
